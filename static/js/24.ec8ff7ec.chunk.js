(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[24],{1695:function(e,t,n){"use strict";n.r(t);var c,i,r,o,a,s,l,b,u,j=n(2),d=n(304),m=n(13),x=n(1),p=n(87),f=n(46),O=n(9),h=n(6),g=n(0),v=Object(h.e)(j.q)(c||(c=Object(O.a)(["\n  background-image: url('/images/ifos/assets/ifo-banner-",".png');\n  background-position: top, center;\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n"])),(function(e){return e.theme.isDark?"dark":"light"})),y=Object(h.e)(j.gb)(i||(i=Object(O.a)(["\n  font-size: 40px;\n\n  "," {\n    font-size: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),I=Object(h.e)(j.v)(r||(r=Object(O.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 4px 13px;\n  height: auto;\n  text-transform: uppercase;\n  align-self: flex-start;\n  font-size: 12px;\n  box-shadow: ",";\n  border-radius: 8px;\n  margin-left: 8px;\n"])),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.shadows.inset})),k=Object(h.e)(j.v)(o||(o=Object(O.a)(["\n  align-self: flex-end;\n"]))),w=Object(h.e)(j.Gc)(a||(a=Object(O.a)(["\n  font-size: 16px;\n\n  "," {\n    font-size: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),P=function(){var e=Object(m.b)().t,t=Object(j.jd)().isMobile,n=function(){var e;null===(e=document.getElementById("ifo-how-to"))||void 0===e||e.scrollIntoView()};return Object(g.jsx)(j.q,{mb:"8px",children:Object(g.jsx)(v,{py:["16px","16px","32px"],minHeight:["212px","212px","197px"],children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(j.eb,{justifyContent:"space-between",flexDirection:["column","column","column","row"],style:{gap:"4px"},children:[Object(g.jsxs)(j.q,{children:[Object(g.jsx)(y,{as:"h1",mb:["12px","12px","16px"],children:e("IFO: Initial Farm Offerings")}),Object(g.jsxs)(w,{bold:!0,children:[e("Buy new tokens launching on Binance Smart Chain"),t&&Object(g.jsx)(I,{onClick:n,children:e("How does it work?")})]})]}),!t&&Object(g.jsx)(k,{onClick:n,variant:"subtle",children:e("How does it work?")})]})})})})},C=n(39),S=n(3),A=n.n(S),D=n(5),T=n(10),L=n(8),F=n(15),M=n.n(F),B=n(74),U=n(448),G=n(33),E=n(62),z=n(115),q=n(23),N=n(48),R=function(e,t,n){return 0===e?"idle":e<t?"coming_soon":e>=t&&e<=n?"live":e>n?"finished":"idle"},H=E.a.FixedNumber.from(1e10),_=function(e){return{raisingAmountPool:e?new M.a(e[0].toString()):q.c,offeringAmountPool:e?new M.a(e[1].toString()):q.c,limitPerUserInLP:e?new M.a(e[2].toString()):q.c,hasTax:!!e&&e[3],totalAmountPool:e?new M.a(e[4].toString()):q.c,sumTaxesOverflow:e?new M.a(e[5].toString()):q.c}},Q=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(z.f)(),i=Object(z.c)(e.currency.symbol),r=e.currency===G.a.cake?c:i,o=Object(x.useState)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,poolBasic:{raisingAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,totalAmountPool:q.c,sumTaxesOverflow:q.c},poolUnlimited:{raisingAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,totalAmountPool:q.c,sumTaxesOverflow:q.c},thresholdPoints:void 0,startBlockNum:0,endBlockNum:0,numberPoints:0}),a=Object(L.a)(o,2),s=a[0],l=a[1],b=Object(x.useCallback)(function(){var e=Object(T.a)(A.a.mark((function e(c){var i,r,o,a,s,b,u,j,d,m,x,p,f,O,h,g,v,y;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)(U,[{address:t,name:"startBlock"},{address:t,name:"endBlock"},{address:t,name:"viewPoolInformation",params:[0]},{address:t,name:"viewPoolInformation",params:[1]},{address:t,name:"viewPoolTaxRateOverflow",params:[1]},{address:t,name:"numberPoints"},{address:t,name:"thresholdPoints"}]);case 2:i=e.sent,r=Object(L.a)(i,7),o=r[0],a=r[1],s=r[2],b=r[3],u=r[4],j=r[5],d=r[6],m=_(s),x=_(b),p=o?o[0].toNumber():0,f=a?a[0].toNumber():0,O=u?E.a.FixedNumber.from(u[0]).divUnsafe(H).toUnsafeFloat():0,h=R(c,p,f),g=f-p,v=f-c,y=c>p?(c-p)/g*100:(c-n)/(p-n)*100,l((function(e){return Object(D.a)(Object(D.a)({},e),{},{isInitialized:!0,secondsUntilEnd:v*B.h,secondsUntilStart:(p-c)*B.h,poolBasic:Object(D.a)(Object(D.a)({},m),{},{taxRate:0}),poolUnlimited:Object(D.a)(Object(D.a)({},x),{},{taxRate:O}),status:h,progress:y,blocksRemaining:v,startBlockNum:p,endBlockNum:f,thresholdPoints:d&&d[0],numberPoints:j?j[0].toNumber():0})}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return Object(D.a)(Object(D.a)({},s),{},{currencyPriceInUSD:r,fetchIfoData:b})},$=n(16),W=n(44),Y=n(45),V=n(75),K=n(71),J=function(e,t,n){var c=Object(W.c)().account,i=Object(x.useState)(q.c),r=Object(L.a)(i,2),o=r[0],a=r[1];return Object(x.useEffect)((function(){c&&function(){var n=Object(T.a)(A.a.mark((function n(){var i;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.allowance(c,t);case 3:i=n.sent,a(new M.a(i.toString())),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()()}),[c,t,e,n]),o},X={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1}},Z=function(e){var t=Object(x.useState)(X),n=Object(L.a)(t,2),c=n[0],i=n[1],r=Object(K.b)(),o=Object(f.f)(),a=e.address,s=e.currency,l=Object(W.c)().account,b=Object(Y.l)(a),u=Object(Y.h)(s.address,!1),j=J(u,a),d=Object(x.useCallback)(Object(T.a)(A.a.mark((function e(){var t,n,c,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:a,name:e,params:[l,[0,1]]}})),r(Object(V.i)({account:l})),e.next=4,Object(N.b)(U,t);case 4:n=e.sent,c=Object(L.a)(n,2),o=c[0],s=c[1],i((function(e){return Object(D.a)(Object(D.a)({},e),{},{isInitialized:!0,poolBasic:Object(D.a)(Object(D.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new M.a(o[0][0].toString()),offeringAmountInToken:new M.a(s[0][0][0].toString()),refundingAmountInLP:new M.a(s[0][0][1].toString()),taxAmountInLP:new M.a(s[0][0][2].toString()),hasClaimed:o[1][0]}),poolUnlimited:Object(D.a)(Object(D.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new M.a(o[0][1].toString()),offeringAmountInToken:new M.a(s[0][1][0].toString()),refundingAmountInLP:new M.a(s[0][1][1].toString()),taxAmountInLP:new M.a(s[0][1][2].toString()),hasClaimed:o[1][1]})})}));case 9:case"end":return e.stop()}}),e)}))),[l,a,r]),m=Object(x.useCallback)((function(){i(Object(D.a)({},X))}),[]),p=o.minus(c.poolBasic.amountTokenCommittedInLP).minus(c.poolUnlimited.amountTokenCommittedInLP),O={credit:o,creditLeft:M.a.maximum(q.c,p)};return Object(D.a)(Object(D.a)({},c),{},{allowance:j,contract:b,setPendingTx:function(e,t){return i((function(n){return Object(D.a)(Object(D.a)({},n),{},Object($.a)({},t,Object(D.a)(Object(D.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){i((function(t){return Object(D.a)(Object(D.a)({},t),{},Object($.a)({},e,Object(D.a)(Object(D.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:d,resetIfoData:m,ifoCredit:O})},ee=n(61),te=n(28),ne=n(150),ce=n(112),ie=n(118),re=n(233),oe=n(148),ae=function(e,t){var n=Object(oe.a)().callWithGasPrice;return Object(x.useCallback)(function(){var c=Object(T.a)(A.a.mark((function c(i,r,o){var a,s;return A.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n(e,"approve",[t,E.a.constants.MaxUint256]);case 2:return a=c.sent,i(a),c.next=6,a.wait();case 6:(s=c.sent).status?r(s):o(s);case 8:case"end":return c.stop()}}),c)})));return function(e,t,n){return c.apply(this,arguments)}}(),[t,e,n])},se=n(34),le=n(27),be=n(235),ue=function(e){return Object(g.jsxs)(j.xc,Object(D.a)(Object(D.a)({viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(g.jsx)("path",{d:"M10.037 6a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5zM9.287 9.75a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM10.037 12a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5z"}),Object(g.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.287 4a2 2 0 012-2h13a2 2 0 012 2v15c0 1.66-1.34 3-3 3h-14c-1.66 0-3-1.34-3-3v-2c0-.55.45-1 1-1h2V4zm0 16h11v-2h-12v1c0 .55.45 1 1 1zm14 0c.55 0 1-.45 1-1V4h-13v12h10c.55 0 1 .45 1 1v2c0 .55.45 1 1 1z"})]}))},je=q.b,de=Object(h.e)(j.eb)(s||(s=Object(O.a)(["\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  text-align: left;\n  gap: 16px;\n\n  "," {\n    flex-direction: row;\n    align-items: initial;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),me=Object(h.e)(j.eb)(l||(l=Object(O.a)(["\n  ",";\n  text-align: left;\n"])),(function(e){return e.isFinished?"filter: grayscale(100%)":""})),xe=Object(h.e)(j.eb)(b||(b=Object(O.a)(["\n  display: inline-flex;\n  vertical-align: top;\n"]))),pe=function(e){var t,n=e.ifo,c=e.publicIfoData,i=Object(m.b)().t,r=null===(t=n.token.symbol)||void 0===t?void 0:t.toLowerCase(),o=n.name,a=c.thresholdPoints?Object(le.a)(c.thresholdPoints,3):je.div(c.currencyPriceInUSD).toNumber().toFixed(3);return Object(g.jsxs)(de,{p:"16px",pb:"32px",children:[Object(g.jsxs)(me,{isFinished:"finished"===c.status,alignItems:"flex-start",flex:1,children:[Object(g.jsx)(j.kb,{src:"/images/achievements/ifo-".concat(r,".svg"),width:56,height:56,mr:"8px"}),Object(g.jsxs)(j.eb,{flexDirection:"column",ml:"8px",children:[Object(g.jsx)(j.Gc,{color:"secondary",fontSize:"12px",children:"".concat(i("Achievement"),":")}),Object(g.jsx)(j.eb,{children:Object(g.jsxs)(j.Gc,{bold:!0,mr:"8px",lineHeight:1.2,children:[i("IFO Shopper: %title%",{title:o}),Object(g.jsxs)(xe,{alignItems:"center",ml:"8px",children:[Object(g.jsx)(j.bc,{color:"textSubtle",width:"16px",mr:"4px"}),Object(g.jsx)(j.Gc,{lineHeight:1.2,color:"textSubtle",children:c.numberPoints})]})]})}),c.currencyPriceInUSD.gt(0)?Object(g.jsx)(j.Gc,{color:"textSubtle",fontSize:"12px",children:i("Commit ~%amount% %symbol% in total to earn!",{amount:a,symbol:n.currency===G.a.cake?"PCM":"LP"})}):Object(g.jsx)(j.mc,{minHeight:18,width:80}),Object(g.jsxs)(be.a,{gap:"16px",pt:"24px",pl:"4px",children:[Object(g.jsx)(j.ub,{external:!0,href:n.articleUrl,children:Object(g.jsx)(j.qb,{color:"textSubtle"})}),Object(g.jsx)(j.ub,{external:!0,href:Object(se.e)(n.address,"address"),children:Object(g.jsx)(ue,{color:"textSubtle"})}),n.twitterUrl&&Object(g.jsx)(j.ub,{external:!0,href:n.twitterUrl,children:Object(g.jsx)(j.Tc,{color:"textSubtle"})}),n.telegramUrl&&Object(g.jsx)(j.ub,{external:!0,href:n.telegramUrl,children:Object(g.jsx)(j.Fc,{color:"textSubtle"})})]})]})]}),n.description&&Object(g.jsx)(j.eb,{alignItems:"flex-end",flexDirection:"column",flex:1,children:Object(g.jsx)(j.Gc,{fontSize:"14px",lineHeight:1.2,style:{whiteSpace:"pre-line"},children:n.description})})]})},fe=n(305),Oe=n(49),he=n(322),ge=n(314),ve=n(193);!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.IS_ENABLING="is_enabling"}(u||(u={}));var ye,Ie,ke,we,Pe,Ce,Se,Ae,De,Te,Le,Fe,Me,Be,Ue,Ge,Ee,ze,qe,Ne,Re,He,_e,Qe,$e,We,Ye=["userAmount","totalAmount"],Ve=function(e){var t=e.userAmount,n=e.totalAmount,c=Object(Oe.a)(e,Ye),i=Object(m.b)().t,r=(n.isGreaterThan(0)?t.div(n).times(100).toNumber():0).toLocaleString(void 0,{maximumFractionDigits:5});return Object(g.jsx)(j.Gc,Object(D.a)(Object(D.a)({fontSize:"14px",color:"textSubtle"},c),{},{children:i("%num% of total",{num:"".concat(r,"%")})}))},Ke=function(){return Object(g.jsx)(j.mc,{height:"48px"})},Je=function(){return Object(g.jsxs)("div",{children:[Object(g.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(g.jsx)(j.mc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(g.jsx)(j.mc,{width:"90%"})]}),Object(g.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",children:[Object(g.jsx)(j.mc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(g.jsx)(j.mc,{width:"90%"})]})]})},Xe=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(j.mc,{mb:"8px"}),Object(g.jsx)(j.mc,{})]})},Ze=["primaryToken","secondaryToken","children"],et=["commitToken"],tt=function(e){var t=e.primaryToken,n=e.secondaryToken,c=e.children,i=Object(Oe.a)(e,Ze);return Object(g.jsxs)(j.eb,Object(D.a)(Object(D.a)({},i),{},{children:[t?t&&n?Object(g.jsx)(ge.b,{variant:"inverted",primaryToken:t,height:32,width:32,secondaryToken:n,mr:"16px"}):Object(g.jsx)(ge.a,{token:t,height:32,width:32,mr:"16px"}):Object(g.jsx)(j.u,{width:32,mr:"16px"}),Object(g.jsx)("div",{children:c})]}))},nt=function(e){var t=e.commitToken,n=Object(Oe.a)(e,et);return t.equals(he.a)?Object(g.jsx)(tt,Object(D.a)({primaryToken:G.a.cake,secondaryToken:G.a.wbnb},n)):Object(g.jsx)(tt,Object(D.a)({primaryToken:t},n))},ct=function(e){return Object(g.jsx)(j.Gc,Object(D.a)({bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase"},e))},it=function(e){return Object(g.jsx)(j.Gc,Object(D.a)({bold:!0,fontSize:"20px",style:{wordBreak:"break-all"}},e))},rt=function(e){var t=e.token,n=e.saleAmount,c=e.distributionRatio,i=Object(m.b)().t;return Object(g.jsx)(tt,{primaryToken:t,children:Object(g.jsxs)(j.eb,{flexDirection:"column",children:[Object(g.jsx)(ct,{children:i("On sale").toUpperCase()}),Object(g.jsx)(it,{children:n}),Object(g.jsx)(j.Gc,{fontSize:"14px",color:"textSubtle",children:i("%ratio%% of total sale",{ratio:c})})]})})},ot=Object(h.e)(j.ub)(ye||(ye=Object(O.a)(["\n  display: inline;\n  text-decoration: underline;\n  font-weight: bold;\n  font-size: 14px;\n  white-space: nowrap;\n"]))),at=function(e){var t,n=e.poolId,c=e.ifo,i=e.publicIfoData,r=e.walletIfoData,o=e.hasProfile,a=e.isLoading,s=e.onApprove,l=e.enableStatus,b=Object(W.c)().account,d=Object(m.b)().t,x=Object(j.md)(d("Sorry, you didn\u2019t contribute enough PCM to meet the minimum threshold. You didn\u2019t buy anything in this sale, but you can still reclaim your PCM."),{placement:"bottom"}),p=x.targetRef,O=x.tooltip,h=x.tooltipVisible,v=i[n],y=r[n],I=c.currency,k=c.token,w=y.hasClaimed,P=100*c[n].distributionRatio,C=Object(f.h)(),S=Object(f.i)().pool,A=Object(f.f)(),D=(null===S||void 0===S||null===(t=S.userData)||void 0===t?void 0:t.stakingTokenBalance)?new M.a(S.userData.stakingTokenBalance):q.c,T=Object(j.kd)(Object(g.jsx)(ve.a,{stakingMax:D,performanceFee:C.fees.performanceFeeAsDecimal,pool:S})),F=Object(L.a)(T,1)[0];return Object(g.jsxs)(j.q,{children:[h&&O,function(){return a?Object(g.jsx)(Je,{}):b?(b&&!o&&(e=Object(g.jsx)(j.Gb,{my:"24px",p:"8px",variant:"warning",children:Object(g.jsxs)(j.q,{children:[Object(g.jsx)(j.Hb,{display:"inline",children:"finished"===i.status?d("Activate PCMSwap Profile to take part in next IFO\u2018s!"):d("You need an active PCMSwap Profile to take part in an IFO!")})," ",Object(g.jsxs)(ot,{href:"#ifo-how-to",color:"#D67E0A",display:"inline",children:[d("How does it work?")," \xbb"]})]})})),3===c.version&&0===Object(le.g)(A)&&(e=Object(g.jsx)(j.Gb,{my:"24px",p:"8px",variant:"danger",children:Object(g.jsxs)(j.q,{children:[Object(g.jsx)(j.Hb,{display:"inline",children:d("You don\u2019t have any average PCM balance available to commit in the IFO PCM pool.")})," ",Object(g.jsxs)(ot,{display:"inline",fontWeight:700,href:"#ifo-how-to",color:"failure",children:[d("How does it work?")," \xbb"]})]})})),b&&!o?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{token:k,distributionRatio:P,saleAmount:c[n].saleAmount}),e]}):"coming_soon"===i.status?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(tt,{primaryToken:c.token,children:[Object(g.jsx)(ct,{children:d("On sale")}),Object(g.jsx)(it,{children:c[n].saleAmount})]}),Object(g.jsx)(j.Gc,{fontSize:"14px",color:"textSubtle",pl:"48px",children:d("%ratio%% of total sale",{ratio:P})}),e,l!==u.ENABLED&&b&&Object(g.jsx)(j.v,{width:"100%",mt:"16px",onClick:s,isLoading:l===u.IS_ENABLING,endIcon:l===u.IS_ENABLING?Object(g.jsx)(j.j,{spin:!0,color:"currentColor"}):null,children:d("Enable")})]}):"live"===i.status?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(nt,{commitToken:c.currency,mb:"24px",children:[Object(g.jsx)(ct,{children:d("Your %symbol% committed",{symbol:I.symbol})}),Object(g.jsx)(it,{children:Object(le.g)(y.amountTokenCommittedInLP,I.decimals)}),Object(g.jsx)(Ve,{userAmount:y.amountTokenCommittedInLP,totalAmount:v.totalAmountPool})]}),Object(g.jsxs)(tt,{primaryToken:c.token,children:[Object(g.jsx)(ct,{children:d("%symbol% to receive",{symbol:k.symbol})}),Object(g.jsx)(it,{children:Object(le.g)(y.offeringAmountInToken,k.decimals)})]})]}):"finished"===i.status?y.amountTokenCommittedInLP.isEqualTo(0)?Object(g.jsxs)(j.eb,{flexDirection:"column",alignItems:"center",children:[Object(g.jsx)(j.u,{width:80,mb:"16px"}),Object(g.jsx)(j.Gc,{fontWeight:600,children:d("You didn\u2019t participate in this sale!")}),Object(g.jsx)(j.Gc,{textAlign:"center",fontSize:"14px",children:d("To participate in the next IFO, stake some PCM in the IFO PCM pool!")}),Object(g.jsxs)(ot,{href:"#ifo-how-to",textAlign:"center",children:[d("How does it work?")," \xbb"]}),Object(g.jsx)(j.v,{mt:"24px",onClick:F,children:d("Stake PCM in IFO pool")})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(nt,{commitToken:c.currency,mb:"24px",children:[Object(g.jsx)(ct,{children:d(w?"Your %symbol% RECLAIMED":"Your %symbol% TO RECLAIM",{symbol:I.symbol})}),Object(g.jsxs)(j.eb,{alignItems:"center",children:[Object(g.jsx)(it,{children:Object(le.g)(y.refundingAmountInLP,I.decimals)}),w&&Object(g.jsx)(j.L,{color:"success",ml:"8px"})]}),Object(g.jsx)(Ve,{userAmount:y.amountTokenCommittedInLP,totalAmount:v.totalAmountPool})]}),Object(g.jsxs)(tt,{primaryToken:c.token,children:[Object(g.jsxs)(ct,{children:[" ",d(w?"%symbol% received":"%symbol% to receive",{symbol:k.symbol})]}),Object(g.jsxs)(j.eb,{alignItems:"center",children:[Object(g.jsx)(it,{children:Object(le.g)(y.offeringAmountInToken,k.decimals)}),!w&&y.offeringAmountInToken.isEqualTo(0)&&Object(g.jsx)("div",{ref:p,style:{display:"flex",marginLeft:"8px"},children:Object(g.jsx)(j.hb,{})}),w&&Object(g.jsx)(j.L,{color:"success",ml:"8px"})]})]}),w&&Object(g.jsx)(j.Gb,{my:"24px",p:"8px",variant:"success",children:Object(g.jsx)(j.Hb,{children:d("You\u2019ve successfully claimed tokens back.")})})]}):null):Object(g.jsx)(rt,{token:k,distributionRatio:P,saleAmount:c[n].saleAmount});var e}()]})},st=n(111),lt=n(105),bt=n(116),ut=n(204),jt=function(e){var t=e.currency,n=e.onDismiss,c=Object(m.b)().t;return Object(g.jsx)(j.Kb,{title:c("%symbol% required",{symbol:t.symbol}),onDismiss:n,children:Object(g.jsxs)(j.Mb,{maxWidth:"288px",children:[Object(g.jsx)(j.kb,{src:"/images/tokens/".concat(t.address,".svg"),width:72,height:72,margin:"auto",mb:"24px"}),Object(g.jsx)(j.Gc,{mb:"16px",children:c("You\u2019ll need %symbol% tokens to participate in the IFO!",{symbol:t.symbol})}),Object(g.jsx)(j.Gc,{mb:"24px",children:c("Get %symbol%, or make sure your tokens aren\u2019t staked somewhere else.",{symbol:t.symbol})}),Object(g.jsx)(j.v,{as:j.ub,external:!0,href:"/swap?outputCurrency=".concat(t.address),endIcon:Object(g.jsx)(j.Vb,{color:"white"}),minWidth:"100%",children:c("Get %symbol%",{symbol:t.symbol})})]})})},dt=n(67),mt=n(841),xt=n(831),pt=[.1,.25,.5,.75,1],ft=Object(dt.parseUnits)("10","gwei").toString(),Ot=function(){var e=Object(m.b)().t;return Object(g.jsx)(j.q,{maxWidth:"350px",children:Object(g.jsx)(j.Gb,{variant:"warning",mb:"16px",children:Object(g.jsx)(j.Hb,{children:e("If the amount you commit is too small, you may not receive a meaningful amount of IFO tokens.")})})})},ht=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,i=e.walletIfoData,r=e.userCurrencyBalance,o=e.creditLeft,a=e.onDismiss,s=e.onSuccess,l=c[t],b=i[t],u=n.currency,d=l.limitPerUserInLP,p=b.amountTokenCommittedInLP,f=i.contract,O=Object(x.useState)(""),h=Object(L.a)(O,2),v=h[0],y=h[1],I=Object(W.c)().account,k=Object(oe.a)().callWithGasPrice,w=Object(Y.h)(u.address),P=Object(m.b)().t,C=new M.a(v).times(B.k),S=u===G.a.cake?P("Max. PCM entry"):P("Max. token entry"),D=Object(xt.a)({onRequiresApproval:function(){var e=Object(T.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.allowance(I,f.address);case 3:return t=e.sent,n=new M.a(t.toString()),e.abrupt("return",n.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return k(w,"approve",[f.address,E.a.constants.MaxUint256],{gasPrice:ft})},onConfirm:function(){return k(f,"depositPool",[C.toString(),t===te.e.poolBasic?0:1],{gasPrice:ft})},onSuccess:function(){var e=Object(T.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.receipt,e.next=3,s(C,n.transactionHash);case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),F=D.isApproving,U=D.isApproved,z=D.isConfirmed,q=D.isConfirming,N=D.handleApprove,R=D.handleConfirm,H=Object(x.useMemo)((function(){return o?d.isGreaterThan(0)&&d.isGreaterThan(0)&&d.minus(p).isLessThanOrEqualTo(o)?d.minus(p):o:d.minus(p)}),[o,d,p]),_=Object(x.useMemo)((function(){return H.isLessThanOrEqualTo(r)?H:r}),[H,r]),Q=Object(j.md)(t===te.e.poolBasic?P("For the basic sale, Max PCM entry is capped by minimum between your average PCM balance in the IFO PCM pool, or the pool\u2019s hard cap. To increase the max entry, Stake more PCM into the IFO PCM pool"):P("For the unlimited sale, Max PCM entry is capped by your average PCM balance in the IFO PCM pool. To increase the max entry, Stake more PCM into the IFO PCM pool"),{}),$=Q.targetRef,V=Q.tooltip,K=Q.tooltipVisible,J=C.isGreaterThan(r)||C.isGreaterThan(H);return Object(g.jsx)(j.Kb,{title:P("Contribute %symbol%",{symbol:u.symbol}),onDismiss:a,children:Object(g.jsxs)(j.Mb,{maxWidth:"360px",children:[t===te.e.poolUnlimited&&Object(g.jsx)(Ot,{}),Object(g.jsxs)(j.q,{p:"2px",children:[Object(g.jsxs)(j.eb,{justifyContent:"space-between",mb:"16px",children:[K&&V,Object(g.jsxs)(j.Qc,{ref:$,children:[S,":"]}),Object(g.jsx)(j.Gc,{children:"".concat(Object(le.e)(Object(le.f)(H,u.decimals).toNumber(),3,3)," ").concat(n.currency.symbol)})]}),Object(g.jsxs)(j.eb,{justifyContent:"space-between",mb:"8px",children:[Object(g.jsxs)(j.Gc,{children:[P("Commit"),":"]}),Object(g.jsxs)(j.eb,{flexGrow:1,justifyContent:"flex-end",children:[Object(g.jsx)(j.kb,{src:"PCM"===n.currency.symbol?"/images/cake.png":"/images/farms/".concat(u.symbol.split(" ")[0].toLocaleLowerCase(),".svg"),width:24,height:24}),Object(g.jsx)(j.Gc,{ml:"4px",children:u.symbol})]})]}),Object(g.jsx)(j.l,{value:v,currencyValue:"".concat(c.currencyPriceInUSD.times(v||0).toFixed(2)," USD"),onUserInput:y,isWarning:J,decimals:u.decimals,onBlur:function(){J&&y(Object(le.f)(_).toString())},mb:"8px"}),J&&Object(g.jsx)(j.Gc,{color:C.isGreaterThan(r)?"failure":"warning",textAlign:"right",fontSize:"12px",mb:"8px",children:C.isGreaterThan(r)?P("Insufficient Balance"):P("Exceeded max PCM entry")}),Object(g.jsx)(j.Gc,{color:"textSubtle",textAlign:"right",fontSize:"12px",mb:"16px",children:P("Balance: %balance%",{balance:Object(le.f)(r,u.decimals).toString()})}),Object(g.jsx)(j.eb,{justifyContent:"space-between",mb:"16px",children:pt.map((function(e,t){return Object(g.jsxs)(j.v,{scale:"xs",variant:"tertiary",onClick:function(){return y(Object(le.f)(_.times(e)).toString())},mr:t<pt.length-1?"8px":0,children:[100*e,"%"]},e)}))}),Object(g.jsxs)(j.Gc,{color:"textSubtle",fontSize:"12px",mb:"24px",children:[P("If you don\u2019t commit enough PCM, you may not receive any IFO tokens at all and will only receive a full refund of your PCM."),Object(g.jsx)(j.ub,{fontSize:"12px",display:"inline",href:"https://docs.pcmswap.info/products/ifo-initial-farm-offering",external:!0,children:P("Read more")})]}),Object(g.jsx)(mt.b,{isApproveDisabled:z||q||U,isApproving:F,isConfirmDisabled:!U||z||C.isNaN()||C.eq(0)||J,isConfirming:q,onApprove:N,onConfirm:R})]})]})})},gt=function(e){var t,n,c,i=e.poolId,r=e.ifo,o=e.publicIfoData,a=e.walletIfoData,s=o[i],l=a[i],b=l.isPendingTx,u=l.amountTokenCommittedInLP,d=s.limitPerUserInLP,x=Object(m.b)().t,p=Object(ce.a)().toastSuccess,f=Object(ie.a)().currentBlock,O=Object(ut.a)(r.currency.address).balance,h=function(){var e=Object(T.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([o.fetchIfoData(f),a.fetchIfoData()]);case 2:p(x("Success!"),Object(g.jsx)(ee.b,{txHash:n,children:x("You have contributed %amount% PCM to this IFO!",{amount:Object(le.g)(t)})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(j.kd)(Object(g.jsx)(ht,{poolId:i,creditLeft:null===(t=a.ifoCredit)||void 0===t?void 0:t.creditLeft,ifo:r,publicIfoData:o,walletIfoData:a,onSuccess:h,userCurrencyBalance:O}),!1),y=Object(L.a)(v,1)[0],I=Object(j.kd)(Object(g.jsx)(jt,{currency:r.currency}),!1),k=Object(L.a)(I,1)[0],w=(null===(n=a.ifoCredit)||void 0===n?void 0:n.creditLeft)&&(null===(c=a.ifoCredit)||void 0===c?void 0:c.creditLeft.isLessThanOrEqualTo(0))||d.isGreaterThan(0)&&u.isGreaterThanOrEqualTo(d),P=b||w||"live"!==o.status;return Object(g.jsx)(j.v,{onClick:O.isEqualTo(0)?k:y,width:"100%",disabled:P,children:w&&"live"===o.status?x("Max. Committed"):x("Commit PCM")})},vt=n(114),yt=function(e){var t=e.poolId,n=e.ifoVersion,c=e.walletIfoData,i=c[t],r=Object(m.b)().t,o=Object(ce.a)(),a=o.toastError,s=o.toastSuccess,l=function(e){return c.setPendingTx(e,t)},b=function(){var e=Object(T.a)(A.a.mark((function e(){var i,o,b;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(!0),1!==n){e.next=8;break}return e.next=5,c.contract.harvest();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,c.contract.harvestPool(t===te.e.poolBasic?0:1);case 10:e.t0=e.sent;case 11:return i=e.t0,s("".concat(r("Transaction Submitted"),"!"),Object(g.jsx)(ee.b,{txHash:i.hash})),e.next=15,i.wait();case 15:o=e.sent,b=o.transactionHash,c.setIsClaimed(t),s(r("Success!"),Object(g.jsx)(ee.b,{txHash:b,children:r("You have successfully claimed your rewards.")})),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(0),a(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),Object(vt.b)(e.t1);case 25:return e.prev=25,l(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,21,25,28]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)(j.v,{onClick:b,disabled:i.isPendingTx,width:"100%",isLoading:i.isPendingTx,endIcon:i.isPendingTx?Object(g.jsx)(j.j,{spin:!0,color:"currentColor"}):null,children:r("Claim")})},It=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,i=e.walletIfoData,r=e.hasProfile,o=e.isLoading,a=Object(m.b)().t,s=Object(W.c)().account,l=i[t];return o?Object(g.jsx)(Ke,{}):s?r?Object(g.jsxs)(g.Fragment,{children:[("live"===c.status||"coming_soon"===c.status)&&Object(g.jsx)(gt,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:i}),"finished"===c.status&&!l.hasClaimed&&(l.offeringAmountInToken.isGreaterThan(0)||l.refundingAmountInLP.isGreaterThan(0))&&Object(g.jsx)(yt,{poolId:t,ifoVersion:n.version,walletIfoData:i})]}):Object(g.jsx)(j.v,{as:st.a,to:"".concat(lt.a,"/profile/").concat(s.toLowerCase()),width:"100%",children:a("Activate your Profile")}):Object(g.jsx)(bt.a,{width:"100%"})},kt=n(225),wt=n(89),Pt=function(e){var t=e.label,n=e.value;return Object(g.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",children:[Object(g.jsx)(j.Gc,{small:!0,color:"textSubtle",children:t}),n?Object(g.jsx)(j.Gc,{small:!0,textAlign:"right",children:n}):Object(g.jsx)(j.mc,{height:21,width:80})]})},Ct=function(e){var t=e.maxToken,n=e.ifo,c=e.poolId,i=n.currency===G.a.cake,r=3===n.version,o=Object(m.b)().t,a=c===te.e.poolBasic?o("For the basic sale, Max PCM entry is capped by minimum between your average PCM balance in the IFO PCM pool, or the pool\u2019s hard cap. To increase the max entry, Stake more PCM into the IFO PCM pool"):o("For the unlimited sale, Max PCM entry is capped by your average PCM balance in the IFO PCM pool. To increase the max entry, Stake more PCM into the IFO PCM pool"),s=Object(j.md)(a,{placement:"bottom-start"}),l=s.targetRef,b=s.tooltip,u=s.tooltipVisible,d=o(i?"Max. PCM entry":"Max. token entry"),x=Object(kt.a)(n.currency),p=Object(wt.d)(x,t,n.currency.decimals);return Object(g.jsxs)(g.Fragment,{children:[r&&u&&b,Object(g.jsx)(Pt,{label:r?Object(g.jsx)(j.Qc,{small:!0,color:"textSubtle",ref:l,children:d}):d,value:Object(g.jsx)(j.Gc,{small:!0,textAlign:"right",color:t>0?"text":"failure",children:"".concat(Object(le.e)(t,3,3)," ").concat(i?"":n.currency.symbol," "," ~($".concat(p.toFixed(0),")"))})})]})},St=function(e){var t,n,c=e.poolId,i=e.ifo,r=e.publicIfoData,o=e.walletIfoData,a=Object(m.b)().t,s=r.status,l=r.currencyPriceInUSD,b=r[c],u=o[c],d=(null===(t=o.ifoCredit)||void 0===t?void 0:t.creditLeft)?o.ifoCredit.creditLeft.gt(b.limitPerUserInLP.minus(u.amountTokenCommittedInLP))?b.limitPerUserInLP.minus(u.amountTokenCommittedInLP):o.ifoCredit.creditLeft:null;d=c===te.e.poolUnlimited?null===(n=o.ifoCredit)||void 0===n?void 0:n.creditLeft:d;var x=3===i.version&&i.isActive?d?Object(le.g)(d,i.currency.decimals):0:Object(le.g)(b.limitPerUserInLP,i.currency.decimals),p="".concat(b.taxRate,"%"),f=b.totalAmountPool.div(b.raisingAmountPool).times(100).toFixed(2),O=Object(le.g)(b.totalAmountPool,i.currency.decimals),h=l.times(O),v="~$".concat(Object(le.e)(h.toNumber(),0,0)," (").concat(f,"%)"),y=b.totalAmountPool.times(b.taxRate).times(.01).plus(b.raisingAmountPool).div(b.offeringAmountPool).div(b.raisingAmountPool.div(b.offeringAmountPool)),I="~$".concat(Object(le.e)(y.times(i.tokenOfferingPrice).toNumber(),0,2)),k=Object(g.jsx)(Ct,{poolId:c,ifo:i,maxToken:x});return Object(g.jsx)(j.q,{paddingTop:"24px",children:"coming_soon"===s?Object(g.jsxs)(g.Fragment,{children:[k,Object(g.jsx)(Pt,{label:a("Funds to raise:"),value:i[c].raiseAmount}),"$0"!==i[c].cakeToBurn&&Object(g.jsx)(Pt,{label:a("PCM to burn:"),value:i[c].cakeToBurn}),Object(g.jsx)(Pt,{label:a("Price per %symbol%:",{symbol:i.token.symbol}),value:"$".concat(i.tokenOfferingPrice)})]}):"live"===s?Object(g.jsxs)(g.Fragment,{children:[k,c===te.e.poolBasic&&Object(g.jsx)(Pt,{label:a("Price per %symbol%:",{symbol:i.token.symbol}),value:"$".concat(i.tokenOfferingPrice)}),c===te.e.poolUnlimited&&Object(g.jsx)(Pt,{label:a("Additional fee:"),value:p}),c===te.e.poolUnlimited&&Object(g.jsx)(Pt,{label:a("Price per %symbol% with fee:",{symbol:i.token.symbol}),value:I}),Object(g.jsx)(Pt,{label:a("Total committed:"),value:l.gt(0)?v:null})]}):"finished"===s?Object(g.jsxs)(g.Fragment,{children:[(c===te.e.poolBasic||i.isActive)&&k,c===te.e.poolUnlimited&&Object(g.jsx)(Pt,{label:a("Additional fee:"),value:p}),Object(g.jsx)(Pt,{label:a("Total committed:"),value:l.gt(0)?v:null}),Object(g.jsx)(Pt,{label:a("Funds to raise:"),value:i[c].raiseAmount}),"$0"!==i[c].cakeToBurn&&Object(g.jsx)(Pt,{label:a("PCM to burn:"),value:i[c].cakeToBurn}),i.version>1&&Object(g.jsx)(Pt,{label:a("Price per %symbol%:",{symbol:i.token.symbol}),value:"$".concat(i.tokenOfferingPrice?i.tokenOfferingPrice:"?")}),i.version>1&&c===te.e.poolUnlimited&&Object(g.jsx)(Pt,{label:a("Price per %symbol% with fee:",{symbol:i.token.symbol}),value:I})]}):Object(g.jsx)(Xe,{})})},At=Object(h.e)(j.A)(Ie||(Ie=Object(O.a)(["\n  background: none;\n  max-width: 368px;\n  width: 100%;\n  margin: 0 auto;\n  height: fit-content;\n"]))),Dt=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,i=e.walletIfoData,r=e.onApprove,o=e.enableStatus,a=function(e,t){switch(t){case te.e.poolBasic:return{title:e("Basic Sale"),variant:"blue",tooltip:e("Every person can only commit a limited amount, but may expect a higher return per token committed.")};case te.e.poolUnlimited:return{title:e("Unlimited Sale"),variant:"violet",tooltip:e("No limits on the amount you can commit. Additional fee applies when claiming.")};default:return{title:"",variant:"blue",tooltip:""}}}(Object(m.b)().t,t),s=Object(fe.d)(),l=s.hasProfile,b=s.isLoading,u=Object(j.md)(a.tooltip,{placement:"bottom"}),d=u.targetRef,x=u.tooltip,p=u.tooltipVisible,f=b||"idle"===c.status;return Object(g.jsxs)(g.Fragment,{children:[p&&x,Object(g.jsxs)(At,{children:[Object(g.jsx)(j.D,{p:"16px 24px",variant:a.variant,children:Object(g.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",children:[Object(g.jsx)(j.Gc,{bold:!0,fontSize:"20px",lineHeight:1,children:a.title}),Object(g.jsx)("div",{ref:d,children:Object(g.jsx)(j.hb,{})})]})}),Object(g.jsxs)(j.B,{p:"12px",children:[Object(g.jsx)(at,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:i,hasProfile:l,isLoading:f,onApprove:r,enableStatus:o}),Object(g.jsx)(j.q,{mt:"24px",children:Object(g.jsx)(It,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:i,hasProfile:l,isLoading:f})}),Object(g.jsx)(St,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:i})]})]})]})},Tt=n(439),Lt=Object(h.e)(j.gb)(ke||(ke=Object(O.a)(["\n  background: -webkit-linear-gradient(#ffd800, #eb8c00);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n"]))),Ft=Object(h.e)(j.eb)(we||(we=Object(O.a)(["\n  gap: ",";\n"])),(function(e){return e.gap})),Mt=function(e){var t=e.publicIfoData,n=Object(m.b)().t,c=t.status,i=t.secondsUntilStart,r=Object(Tt.a)(i);return Object(g.jsx)(j.eb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(g.jsx)(j.mc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Ft,{gap:"8px",alignItems:"center",children:[Object(g.jsx)(j.gb,{as:"h3",scale:"lg",color:"secondary",children:n("Start in")}),Object(g.jsxs)(Ft,{gap:"4px",alignItems:"baseline",children:[r.days?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.gb,{scale:"lg",color:"secondary",children:r.days}),Object(g.jsx)(j.Gc,{color:"secondary",children:n("d")})]}):null,r.days||r.hours?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.gb,{color:"secondary",scale:"lg",children:r.hours}),Object(g.jsx)(j.Gc,{color:"secondary",children:n("h")})]}):null,Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.gb,{color:"secondary",scale:"lg",children:r.minutes}),Object(g.jsx)(j.Gc,{color:"secondary",children:n("m")})]})]})]})})})},Bt=Object(h.e)(j.gb)(Pe||(Pe=Object(O.a)(["\n  color: white;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.1;\n\n  "," {\n    font-size: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Ut=Object(h.e)(Bt)(Ce||(Ce=Object(O.a)(["\n  color: white;\n  "," {\n    background: -webkit-linear-gradient(#ffd800, #eb8c00);\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Gt=function(e){var t=e.publicIfoData,n=Object(m.b)().t,c=t.status,i=t.secondsUntilEnd,r=Object(Tt.a)(i);return Object(g.jsx)(j.eb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(g.jsx)(j.mc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.Zb,{width:"42px",mr:"8px"}),Object(g.jsxs)(Ft,{gap:"8px",alignItems:"center",children:[Object(g.jsx)(Ut,{as:"h3",children:"".concat(n("Live Now").toUpperCase(),"!")}),Object(g.jsx)(Bt,{as:"h3",scale:"lg",color:"white",children:n("Ends in")}),Object(g.jsxs)(Ft,{gap:"4px",alignItems:"baseline",children:[r.days?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Lt,{scale:"lg",children:r.days}),Object(g.jsx)(j.Gc,{color:"white",children:n("d")})]}):null,r.days||r.hours?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Lt,{scale:"lg",children:r.hours}),Object(g.jsx)(j.Gc,{color:"white",children:n("h")})]}):null,Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Lt,{scale:"lg",children:r.minutes}),Object(g.jsx)(j.Gc,{color:"white",children:n("m")})]})]})]})]})})},Et=Object(h.e)(j.q)(Se||(Se=Object(O.a)(["\n  width: 150%;\n  position: absolute;\n  top: -150%;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n\n  "," {\n    border-radius: 50%;\n  }\n\n  ","\n"])),(function(e){return e.theme.mediaQueries.md}),(function(e){var t=e.$status,n=e.theme;switch(t){case"coming_soon":return"\n          background: ".concat(n.colors.tertiary,";\n        ");case"live":return"\n          background: linear-gradient(#8051D6 100%, #492286 100%);\n        ";case"finished":return"\n          background: ".concat(n.colors.input,";\n        ");default:return""}})),zt=function(e){var t,n=e.publicIfoData,c=n.status;return"finished"===c?t=Object(g.jsx)(qt,{}):"live"===c?t=Object(g.jsx)(Rt,{publicIfoData:n}):"coming_soon"===c&&(t=Object(g.jsx)(Nt,{publicIfoData:n})),"idle"===c?null:Object(g.jsxs)(g.Fragment,{children:["live"===c&&Object(g.jsx)(j.dc,{variant:"flat",children:Object(g.jsx)(j.ec,{$useDark:!0,$background:"linear-gradient(273deg, #ffd800 -2.87%, #eb8c00 113.73%)",style:{width:"".concat(Math.min(Math.max(n.progress,0),100),"%")}})}),Object(g.jsx)(j.eb,{justifyContent:"center",alignItems:"center",flexDirection:"column",minHeight:["48px","48px","48px","75px"],position:"relative",overflow:"hidden",children:t})]})},qt=function(){var e=Object(m.b)().t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Et,{$status:"finished"}),Object(g.jsx)(j.q,{position:"relative",children:Object(g.jsx)(j.gb,{as:"h3",scale:"lg",color:"textSubtle",children:e("Sale Finished!")})})]})},Nt=function(e){var t=e.publicIfoData;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Et,{$status:"coming_soon"}),Object(g.jsx)(j.q,{position:"relative",children:Object(g.jsx)(j.gb,{as:"h3",scale:"lg",color:"secondary",children:Object(g.jsx)(Mt,{publicIfoData:t})})})]})},Rt=function(e){var t=e.publicIfoData;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Et,{$status:"live"}),Object(g.jsx)(j.q,{position:"relative",children:Object(g.jsx)(Gt,{publicIfoData:t})})]})},Ht=Object(h.e)(j.A)(Ae||(Ae=Object(O.a)(["\n  width: 100%;\n  margin: auto;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n\n  ","\n\n  > div {\n    background: ",";\n  }\n\n  "," {\n    border-top-left-radius: 32px;\n    border-top-right-radius: 32px;\n\n    > div {\n      border-top-left-radius: 32px;\n      border-top-right-radius: 32px;\n    }\n  }\n"])),(function(e){return e.$isCurrent&&"\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  > div {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n  "}),(function(e){var t=e.theme;return e.$isCurrent?t.colors.gradients.bubblegum:t.colors.dropdown}),(function(e){return e.theme.mediaQueries.sm})),_t=Object(h.e)(j.D)(De||(De=Object(O.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n  background-color: ",";\n  background-image: ",";\n  "," {\n    height: 112px;\n  }\n"])),(function(e){return e.$isCurrent?"64px":"112px"}),(function(e){return e.theme.colors.dropdown}),(function(e){var t=e.ifoId;return"url('/images/ifos/".concat(t,"-bg.svg'), url('/images/ifos/").concat(t,"-bg.png')")}),(function(e){return e.theme.mediaQueries.md})),Qt=h.e.div(Te||(Te=Object(O.a)(["\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: 1fr;\n  "," {\n    grid-template-columns: ",";\n    justify-items: ",";\n  }\n"])),(function(e){return e.theme.mediaQueries.xxl}),(function(e){return e.singleCard?"1fr":"1fr 1fr"}),(function(e){return e.singleCard?"center":"unset"})),$t=Object(h.e)(j.B)(Le||(Le=Object(O.a)(["\n  padding: 24px 16px;\n  "," {\n    padding: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Wt=Object(h.e)(j.C)(Fe||(Fe=Object(O.a)(["\n  padding: 0;\n  background: ",";\n  text-align: center;\n"])),(function(e){return e.theme.colors.backgroundAlt})),Yt=h.e.div(Me||(Me=Object(O.a)(["\n  position: absolute;\n  left: -24px;\n  z-index: 1;\n  top: 33px;\n\n  > img {\n    width: 78px;\n  }\n\n  "," {\n    top: ",";\n  }\n  "," {\n    left: auto;\n    top: ",";\n    right: ",";\n\n    > img {\n      width: 123px;\n    }\n  }\n  "," {\n    right: ",";\n  }\n  "," {\n    right: 90px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.$isLive?"46px":"33px"}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.$isLive?"61px":"48px"}),(function(e){return e.$isCurrent?"17px":"90px"}),(function(e){return e.theme.mediaQueries.lg}),(function(e){return e.$isCurrent?"67px":"90px"}),(function(e){return e.theme.mediaQueries.xxl})),Vt=function(e){var t=e.isLive,n=e.isCurrent,c=Object(j.jd)(),i=c.isXs,r=c.isSm,o=c.isMd,a=i||r||o;return a&&t?null:Object(g.jsx)(Yt,{$isLive:t,$isCurrent:n,children:Object(g.jsx)("img",{src:"/images/ifos/assets/bunnypop-".concat(a?"left":"right",".png"),width:123,height:162,alt:"bunny"})})},Kt=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,i=Object(x.useState)(!1),r=Object(L.a)(i,2),o=r[0],a=r[1],s=Object(m.b)().t,l=Object(j.jd)().isMobile,b="live"===n.status||"coming_soon"===n.status;return Object(g.jsxs)(g.Fragment,{children:[l&&Object(g.jsxs)(j.q,{className:"sticky-header",position:"sticky",bottom:"48px",width:"100%",zIndex:6,maxWidth:["400px","400px","400px","100%"],children:[Object(g.jsx)(_t,{$isCurrent:!0,ifoId:t.id}),Object(g.jsx)(zt,{publicIfoData:n}),b&&Object(g.jsx)(Vt,{isLive:"live"===n.status})]}),Object(g.jsxs)(j.q,{position:"relative",width:"100%",maxWidth:["400px","400px","400px","100%"],children:[!l&&b&&Object(g.jsx)(Vt,{isCurrent:!0,isLive:"live"===n.status}),Object(g.jsxs)(Ht,{$isCurrent:!0,children:[!l&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_t,{$isCurrent:!0,ifoId:t.id}),Object(g.jsx)(zt,{publicIfoData:n})]}),Object(g.jsx)(Xt,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(g.jsxs)(Wt,{children:[Object(g.jsx)(j.cb,{expanded:o,onClick:function(){return a(!o)},children:s(o?"Hide":"Details")}),o&&Object(g.jsx)(pe,{ifo:t,publicIfoData:n})]})]})]})]})},Jt=h.e.div(Be||(Be=Object(O.a)(["\n  display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Xt=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,i=Object(ie.a)().currentBlock,r=n.fetchIfoData,o=n.isInitialized,a=n.secondsUntilEnd,s=c.contract,l=c.fetchIfoData,b=c.resetIfoData,j=c.isInitialized,d=Object(x.useState)(u.DISABLED),p=Object(L.a)(d,2),f=p[0],O=p[1],h=Object(m.b)().t,v=Object(W.c)().account,y=Object(Y.h)(t.currency.address),I=("finished"!==n.status||"finished"===n.status&&a>=-120)&&t.isActive,k=ae(y,s.address),w=Object(ce.a)(),P=w.toastSuccess,C=w.toastError,S=Object(ne.a)(),D=Object(re.a)();Object(x.useEffect)((function(){!I&&o||r(i)}),[I,o,r,i]),Object(x.useEffect)((function(){!D||!I&&j||v&&l(),!v&&j&&b()}),[D,v,I,j,l,b,S]);var F=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(u.IS_ENABLING),e.next=4,k((function(e){P("".concat(h("Transaction Submitted"),"!"),Object(g.jsx)(ee.b,{txHash:e.hash}))}),(function(e){P(h("Successfully Enabled!"),Object(g.jsx)(ee.b,{txHash:e.transactionHash,children:h("You can now participate in the %symbol% IFO.",{symbol:t.token.symbol})}))}),(function(e){C(h("Error"),Object(g.jsx)(ee.b,{txHash:e.transactionHash,children:h("Please try again. Confirm the transaction and make sure you are paying enough gas!")}))}));case 4:O(u.ENABLED),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),O(u.DISABLED);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){v&&function(){var e=Object(T.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.allowance(v,s.address);case 3:t=e.sent,n=new M.a(t.toString()),O(n.lte(0)?u.DISABLED:u.ENABLED),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(u.DISABLED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[v,y,s,O]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)($t,{children:Object(g.jsxs)(Qt,{singleCard:!n.poolBasic||!c.poolBasic,children:[n.poolBasic&&c.poolBasic&&Object(g.jsx)(Dt,{poolId:te.e.poolBasic,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:F,enableStatus:f}),Object(g.jsx)(Dt,{poolId:te.e.poolUnlimited,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:F,enableStatus:f})]})})})},Zt=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,i=Object(x.useState)(!1),r=Object(L.a)(i,2),o=r[0],a=r[1],s=Object(j.jd)().isDesktop;return Object(g.jsxs)(j.q,{position:"relative",children:[o&&s&&Object(g.jsx)(Vt,{isLive:!1}),Object(g.jsxs)(j.q,{as:Ht,borderRadius:"32px",children:[Object(g.jsxs)(j.q,{position:"relative",children:[Object(g.jsx)(_t,{ifoId:t.id,children:Object(g.jsx)(j.bb,{expanded:o,onClick:function(){return a((function(e){return!e}))}})}),o&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(zt,{publicIfoData:n})})]}),Object(g.jsxs)(Jt,{isVisible:o,children:[Object(g.jsx)(Xt,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(g.jsx)(pe,{ifo:t,publicIfoData:n})]})]})]})},en=Object(h.e)(j.q)(Ue||(Ue=Object(O.a)(["\n  > div:not(.sticky-header) {\n    margin-bottom: 32px;\n  }\n"]))),tn=Object(h.e)(en)(Ge||(Ge=Object(O.a)(["\n  column-gap: 32px;\n  display: grid;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: minmax(300px, 1fr) minmax(462px, 2fr);\n  }\n\n  > div {\n    margin: 0 auto;\n    align-items: flex-start;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),nn=en,cn=n(42),rn=n(230),on=n(19),an=n(43),sn=n(517),ln=n(540),bn=n(242),un=n(538),jn=n(337),dn=n(516),mn=n(519),xn=n(66),pn=n(63),fn=Object(h.e)(j.A)(Ee||(Ee=Object(O.a)(["\n  max-width: 400px;\n  width: 100%;\n"]))),On=Object(h.e)(j.eb)(ze||(ze=Object(O.a)(["\n  "," {\n    line-height: 1.2;\n    white-space: nowrap;\n  }\n"])),j.Gc),hn=Object(h.e)(j.q)(qe||(qe=Object(O.a)(["\n  padding: 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.dropdown})),gn=Object(h.e)(j.B)(Ne||(Ne=Object(O.a)(["\n  display: grid;\n  padding: 16px;\n  background-color: ",";\n  gap: 16px;\n  "," {\n    margin: 0;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.dropdown}),xn.a,(function(e){return e.theme.colors.invertedContrast})),vn=function(){var e=Object(f.i)().pool,t=Object(on.a)().account,n=Object(m.b)().t,c=Object(f.f)(),i=Object(f.h)(),r=i.fees.performanceFeeAsDecimal,o=i.userData,a=o.userShares,s=o.isLoading,l=i.pricePerFullShare,b=Object(pn.b)(a,l).cakeAsBigNumber,u=Object(x.useState)(!1),d=Object(L.a)(u,2),p=d[0],O=d[1],h=Object(le.g)(c),v=Object(kt.c)(h),y=Object(j.md)(n("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),{placement:"bottom"}),I=y.targetRef,k=y.tooltip,w=y.tooltipVisible;return Object(g.jsxs)(fn,{isActive:!0,children:[Object(g.jsx)(j.D,{p:"16px",children:Object(g.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",children:[Object(g.jsxs)(On,{alignItems:"center",flex:1,children:[Object(g.jsx)(ge.b,{width:24,height:24,primaryToken:G.a.cake,secondaryToken:G.a.cake}),Object(g.jsxs)(j.q,{ml:"8px",children:[Object(g.jsx)(j.Gc,{fontSize:"12px",bold:!0,color:"secondary",textTransform:"uppercase",children:n("Staked")}),Object(g.jsx)(j.Gc,{small:!0,bold:!0,children:"IFO PCM"}),Object(g.jsxs)(j.Gc,{color:"textSubtle",fontSize:"12px",children:[n("Stake")," PCM"]})]})]}),Object(g.jsxs)(On,{flexDirection:"column",flex:1,children:[Object(g.jsx)(j.Gc,{color:"textSubtle",fontSize:"12px",children:n("IFO Credit")}),Object(g.jsx)(cn.a,{small:!0,bold:!0,decimals:3,value:h}),Object(g.jsx)(cn.a,{value:v||0,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),Object(g.jsx)(j.bb,{expanded:p,onClick:function(){return O((function(e){return!e}))}})]})}),p&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(gn,{children:[Object(g.jsx)(jn.a,{pool:e,stakedBalance:b,performanceFee:r}),Object(g.jsx)(sn.a,{}),Object(g.jsx)(xn.a,{children:Object(g.jsx)(un.a,{})}),Object(g.jsx)(mn.a,{pool:e,userDataLoaded:!s}),Object(g.jsxs)(xn.a,{children:[Object(g.jsx)(j.q,{children:Object(g.jsx)(ln.a,{vaultKey:an.g.IfoPool})}),Object(g.jsx)(j.q,{mt:"8px",children:Object(g.jsx)(bn.a,{vaultKey:an.g.IfoPool})})]})]}),Object(g.jsxs)(hn,{children:[Object(g.jsx)(dn.a,{account:t,pool:e}),Object(g.jsxs)(j.eb,{alignItems:"center",children:[Object(g.jsx)(rn.c,{}),w&&k,Object(g.jsx)(j.eb,{ref:I,children:Object(g.jsx)(j.hb,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]})]})]})]})},yn=function(){var e=Object(f.i)().pool,t=Object(j.jd)(),n=t.isMd,c=t.isXs,i=t.isSm;return n||c||i?Object(g.jsx)(vn,{}):Object(g.jsx)(sn.b,{pool:e,showStakedOnly:!1,m:"auto"})},In=n(847),kn=function(e){return[{title:e("What\u2019s the difference between a Basic Sale and Unlimited Sale?"),description:[e("In the Basic Sale, every user can commit a maximum of about 100 USD worth of PCM. We calculate the maximum PCM amount about 30 minutes before each IFO. The Basic Sale has no participation fee."),e("In the Unlimited Sale, there\u2019s no limit to the amount of PCM you can commit. However, there\u2019s a fee for participation: see below.")]},{title:e("Which sale should I commit to? Can I do both?"),description:[e("You can choose one or both at the same time! If you\u2019re only committing a small amount, we recommend the Basic Sale first. Just remember you need a PCMSwap Profile in order to participate.")]},{title:e("How much is the participation fee?"),description:[e("There\u2019s only a participation fee for the Unlimited Sale: there\u2019s no fee for the Basic Sale."),e("The fee will start at 1%."),e("The 1% participation fee decreases in cliffs, based on the percentage of overflow from the \u201cUnlimited\u201d portion of the sale.")]},{title:e("Where does the participation fee go?"),description:[e("The PCM from the participation fee will be thrown into the weekly token burn.")]},{title:e("How can I get an achievement for participating in the IFO?"),description:[e("You need to contribute a minimum of about 10 USD worth of PCM to either sale."),e("You can contribute to one or both, it doesn\u2019t matter: only your overall contribution is counted for the achievement.")]}]},wn=h.e.div(Re||(Re=Object(O.a)(["\n  flex: none;\n  order: 2;\n  max-width: 414px;\n  width: 100%;\n\n  "," {\n    order: 1;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Pn=h.e.div(He||(He=Object(O.a)(["\n  order: 1;\n  margin-bottom: 40px;\n\n  "," {\n    order: 2;\n    margin-bottom: 0;\n    margin-left: 40px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Cn=function(){var e=Object(m.b)().t;return Object(g.jsxs)(j.eb,{alignItems:["center",null,null,"start"],flexDirection:["column",null,null,"row"],children:[Object(g.jsx)(wn,{children:Object(g.jsx)(j.kb,{src:"/images/ifos/ifo-bunny.png",alt:"ifo bunny",width:414,height:500})}),Object(g.jsx)(Pn,{children:Object(g.jsxs)(j.A,{children:[Object(g.jsx)(j.D,{children:Object(g.jsx)(j.gb,{scale:"lg",color:"secondary",children:e("Details")})}),Object(g.jsx)(j.B,{children:kn(e).map((function(e,t,n){var c=e.title,i=e.description,r=n.length;return Object(g.jsx)(In.a,{id:c,mb:t+1===r?"":"24px",title:c,children:i.map((function(e){return Object(g.jsx)(j.Gc,{color:"textSubtle",as:"p",children:e},e)}))},c)}))})]})})]})},Sn=n(925),An=n.n(Sn),Dn=n(160),Tn=Object(h.e)(d.a)(_e||(_e=Object(O.a)(["\n  margin-left: -16px;\n  margin-right: -16px;\n  padding-top: 48px;\n  padding-bottom: 48px;\n\n  "," {\n    margin-left: -24px;\n    margin-right: -24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ln=Object(h.e)(j.ub)(Qe||(Qe=Object(O.a)(["\n  display: inline;\n"]))),Fn=Object(h.e)(j.q)($e||($e=Object(O.a)(["\n  margin-top: 16px;\n  border: 1px solid ",";\n  background-color: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.colors.background})),Mn=function(e){var t,n=e.hasProfile,c=Object(m.b)().t,i=Object(f.h)(),r=Object(f.f)(),o=Object(f.i)().pool,a=Object(Dn.b)(o.vaultKey),s=a.isVaultApproved,l=a.setLastUpdated,b=Object(Dn.c)(o.vaultKey,l),u=b.handleApprove,d=b.requestedApproval,x=Object(j.md)(Object(g.jsxs)(j.q,{children:[Object(g.jsx)("span",{children:c("IFO credit is calculated by average block balance in the IFO pool in over the staking period announced with each IFO proposal.")})," ",Object(g.jsx)(Ln,{external:!0,href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:c("Please refer to our blog post for more details.")})]}),{}),p=x.targetRef,O=x.tooltip,h=x.tooltipVisible,v=Object(kt.c)(Object(le.g)(r)),y=(null===o||void 0===o||null===(t=o.userData)||void 0===t?void 0:t.stakingTokenBalance)?new M.a(o.userData.stakingTokenBalance):q.c,I=Object(j.kd)(Object(g.jsx)(ve.a,{stakingMax:y,performanceFee:i.fees.performanceFeeAsDecimal,pool:o})),k=Object(L.a)(I,1)[0];return Object(g.jsxs)(j.B,{children:[h&&O,Object(g.jsx)(j.gb,{as:"h4",color:"secondary",mb:"16px",children:c("Stake PCM in IFO pool")}),Object(g.jsxs)(j.q,{children:[Object(g.jsx)(j.Gc,{color:"textSubtle",small:!0,children:c("The maximum amount of PCM user can commit to all the sales combined, is equal to the average PCM balance in the IFO PCM pool prior to the IFO. Stake more PCM to increase the maximum PCM you can commit to the sale. Missed this IFO? You can keep staking in the IFO PCM Pool to join the next IFO sale.")}),Object(g.jsx)(j.Qc,{as:"span",fontWeight:700,ref:p,color:"textSubtle",small:!0,children:c("How does the IFO credit calculated?")})]}),n&&Object(g.jsx)(Fn,{borderRadius:"default",p:"16px",children:Object(g.jsxs)(be.a,{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",children:[Object(g.jsxs)(j.eb,{children:[Object(g.jsx)(j.yb,{style:{alignSelf:"flex-start"},width:32,height:32}),Object(g.jsxs)(j.q,{ml:"16px",children:[Object(g.jsx)(j.Gc,{bold:!0,fontSize:"12px",textTransform:"uppercase",color:"secondary",children:c("Your max PCM entry")}),Object(g.jsx)(cn.a,{fontSize:"20px",bold:!0,decimals:5,value:Object(le.g)(r)}),Object(g.jsx)(j.Gc,{fontSize:"12px",color:"textSubtle",children:v?Object(g.jsx)(cn.a,{value:v,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(g.jsx)(j.mc,{mt:"1px",height:16,width:64})})]})]}),s?Object(g.jsxs)(j.v,{onClick:k,children:[c("Stake")," PCM"]}):Object(g.jsx)(j.v,{disabled:d,onClick:u,children:c("Enable pool")})]})})]})},Bn=function(e){var t=e.hasProfile,n=e.isLive,c=e.isCommitted,i=Object(m.b)().t;return Object(g.jsxs)(j.B,{children:[Object(g.jsx)(j.gb,{as:"h4",color:"secondary",mb:"16px",children:i("Commit PCM")}),Object(g.jsxs)(j.Gc,{color:"textSubtle",small:!0,children:[i("When the IFO sales are live, you can \u201ccommit\u201d your PCM to buy the tokens being sold.")," ",Object(g.jsx)("br",{}),i("We recommend committing to the Basic Sale first, but you can do both if you like.")]}),t&&n&&!c&&Object(g.jsx)(j.v,{as:"a",href:"#current-ifo",mt:"16px",children:i("Commit PCM")})]})},Un=function(e){var t=e.ifo,n=e.walletIfoData,c=e.isLive,i=n.poolBasic,r=n.poolUnlimited,o=Object(fe.d)().hasProfile,a=Object(W.c)().account,s=Object(m.b)().t,l=Object(ut.a)(t.currency.address).balance,b=i.amountTokenCommittedInLP.isGreaterThan(0)||r.amountTokenCommittedInLP.isGreaterThan(0),u=[o,l.isGreaterThan(0),b,i.hasClaimed||r.hasClaimed],d=function(e){var t=0===e||An()(u.slice(0,e),Boolean);return u[e]?t?"past":"future":t?"current":"future"},x=function(e){var t=u[e];switch(e){case 0:return Object(g.jsxs)(j.B,{children:[Object(g.jsx)(j.gb,{as:"h4",color:"secondary",mb:"16px",children:s("Activate your Profile")}),Object(g.jsx)(j.Gc,{color:"textSubtle",small:!0,mb:"16px",children:s("You\u2019ll need an active PCMSwap Profile to take part in an IFO!")}),a?t?Object(g.jsxs)(j.eb,{alignItems:"center",children:[Object(g.jsx)(j.Gc,{color:"success",bold:!0,mr:"8px",children:s("Profile Active!")}),Object(g.jsx)(j.M,{color:"success"})]}):Object(g.jsx)(j.v,{as:st.a,to:"".concat(lt.a,"/profile/").concat(a.toLowerCase()),children:s("Activate your Profile")}):Object(g.jsx)(bt.a,{})]});case 1:return Object(g.jsx)(Mn,{hasProfile:o});case 2:return Object(g.jsx)(Bn,{hasProfile:o,isLive:c,isCommitted:b});case 3:return Object(g.jsxs)(j.B,{children:[Object(g.jsx)(j.gb,{as:"h4",color:"secondary",mb:"16px",children:s("Claim your tokens and achievement")}),Object(g.jsx)(j.Gc,{color:"textSubtle",small:!0,children:s("After the IFO sales finish, you can claim any IFO tokens that you bought, and any unspent PCM tokens will be returned to your wallet.")})]});default:return null}};return Object(g.jsxs)(Tn,{children:[Object(g.jsx)(j.gb,{id:"ifo-how-to",as:"h2",scale:"xl",color:"secondary",mb:"24px",textAlign:"center",children:s("How to Take Part")}),Object(g.jsx)(j.tc,{children:u.map((function(e,t){return Object(g.jsx)(j.sc,{index:t,statusFirstPart:d(t),statusSecondPart:d(t+1),children:Object(g.jsx)(j.A,{children:x(t)})},t)}))})]})},Gn=Object(h.e)(j.q)(We||(We=Object(O.a)(["\n  background: ",";\n"])),(function(e){return e.theme.colors.gradients.bubblegum})),En=C.x.find((function(e){return e.isActive})),zn=function(){var e=Q(En),t=Z(En);return Object(g.jsxs)(nn,{id:"current-ifo",py:["24px","24px","40px"],children:[Object(g.jsx)(d.a,{children:Object(g.jsxs)(tn,{children:[Object(g.jsx)(yn,{}),Object(g.jsx)(Kt,{ifo:En,publicIfoData:e,walletIfoData:t})]})}),Object(g.jsx)(Gn,{children:Object(g.jsx)(d.a,{children:Object(g.jsx)(Un,{isLive:"live"===e.status,ifo:En,walletIfoData:t})})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(Cn,{})})]})},qn=n(456),Nn=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(z.c)(e.currency.symbol),i=Object(x.useState)(Object($.a)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,startBlockNum:0,endBlockNum:0,numberPoints:null,thresholdPoints:void 0},te.e.poolUnlimited,{raisingAmountPool:q.c,totalAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,sumTaxesOverflow:q.c})),r=Object(L.a)(i,2),o=r[0],a=r[1],s=Object(x.useCallback)(function(){var e=Object(T.a)(A.a.mark((function e(c){var i,r,o,s,l,b,u,j,d,m,x,p,f;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=["startBlock","endBlock","raisingAmount","totalAmount"].map((function(e){return{address:t,name:e}})),e.next=3,Object(N.b)(qn,i);case 3:r=e.sent,o=Object(L.a)(r,4),s=o[0],l=o[1],b=o[2],u=o[3],j=s?s[0].toNumber():0,d=l?l[0].toNumber():0,m=R(c,j,d),x=d-j,p=d-c,f=c>j?(c-j)/x*100:(c-n)/(j-n)*100,a((function(e){return Object(D.a)(Object(D.a)({},e),{},Object($.a)({isInitialized:!0,status:m,blocksRemaining:p,secondsUntilStart:(j-c)*B.h,progress:f,secondsUntilEnd:p*B.h,startBlockNum:j,endBlockNum:d},te.e.poolUnlimited,Object(D.a)(Object(D.a)({},e.poolUnlimited),{},{raisingAmountPool:b?new M.a(b[0].toString()):q.c,totalAmountPool:u?new M.a(u[0].toString()):q.c})))}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n]);return Object(D.a)(Object(D.a)({},o),{},{currencyPriceInUSD:c,fetchIfoData:s})},Rn=Object($.a)({isInitialized:!1},te.e.poolUnlimited,{amountTokenCommittedInLP:q.c,hasClaimed:!1,isPendingTx:!1,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c}),Hn=function(e){var t=Object(x.useState)(Rn),n=Object(L.a)(t,2),c=n[0],i=n[1],r=e.address,o=e.currency,a=c.poolUnlimited,s=Object(W.c)().account,l=Object(Y.k)(r),b=Object(Y.h)(o.address),u=J(b,r,a.isPendingTx),j=Object(x.useCallback)(Object(T.a)(A.a.mark((function e(){var t,n,c,o,a,l,b;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["getOfferingAmount","userInfo","getRefundingAmount"].map((function(e){return{address:r,name:e,params:[s]}})),e.next=3,Object(N.b)(qn,t);case 3:n=e.sent,c=Object(L.a)(n,3),o=c[0],a=c[1],l=c[2],b=a?{amount:new M.a(a.amount.toString()),claimed:a.claimed}:{amount:q.c,claimed:!1},i((function(e){return Object($.a)({isInitialized:!0},te.e.poolUnlimited,Object(D.a)(Object(D.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:b.amount,hasClaimed:b.claimed,offeringAmountInToken:o?new M.a(o[0].toString()):q.c,refundingAmountInLP:l?new M.a(l[0].toString()):q.c}))}));case 10:case"end":return e.stop()}}),e)}))),[s,r]),d=Object(x.useCallback)((function(){i(Rn)}),[]);return Object(D.a)(Object(D.a)({},c),{},{allowance:u,contract:l,setPendingTx:function(e){return i((function(t){return Object(D.a)(Object(D.a)({},t),{},Object($.a)({},te.e.poolUnlimited,Object(D.a)(Object(D.a)({},t.poolUnlimited),{},{isPendingTx:e})))}))},setIsClaimed:function(){i((function(e){return Object(D.a)(Object(D.a)({},e),{},Object($.a)({},te.e.poolUnlimited,Object(D.a)(Object(D.a)({},e.poolUnlimited),{},{hasClaimed:!0})))}))},fetchIfoData:j,resetIfoData:d})},_n=function(e){var t=e.ifo,n=Nn(t),c=Hn(t);return Object(g.jsx)(Zt,{ifo:t,publicIfoData:n,walletIfoData:c})},Qn={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1}},$n=function(e){var t=Object(x.useState)(Qn),n=Object(L.a)(t,2),c=n[0],i=n[1],r=e.address,o=e.currency,a=Object(W.c)().account,s=Object(Y.l)(r),l=Object(Y.h)(o.address),b=J(l,r),u=Object(x.useCallback)(Object(T.a)(A.a.mark((function e(){var t,n,c,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:r,name:e,params:[a,[0,1]]}})),e.next=3,Object(N.b)(U,t);case 3:n=e.sent,c=Object(L.a)(n,2),o=c[0],s=c[1],i((function(e){return Object(D.a)(Object(D.a)({},e),{},{isInitialized:!0,poolBasic:Object(D.a)(Object(D.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new M.a(o[0][0].toString()),offeringAmountInToken:new M.a(s[0][0][0].toString()),refundingAmountInLP:new M.a(s[0][0][1].toString()),taxAmountInLP:new M.a(s[0][0][2].toString()),hasClaimed:o[1][0]}),poolUnlimited:Object(D.a)(Object(D.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new M.a(o[0][1].toString()),offeringAmountInToken:new M.a(s[0][1][0].toString()),refundingAmountInLP:new M.a(s[0][1][1].toString()),taxAmountInLP:new M.a(s[0][1][2].toString()),hasClaimed:o[1][1]})})}));case 8:case"end":return e.stop()}}),e)}))),[a,r]),j=Object(x.useCallback)((function(){i(Object(D.a)({},Qn))}),[]);return Object(D.a)(Object(D.a)({},c),{},{allowance:b,contract:s,setPendingTx:function(e,t){return i((function(n){return Object(D.a)(Object(D.a)({},n),{},Object($.a)({},t,Object(D.a)(Object(D.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){i((function(t){return Object(D.a)(Object(D.a)({},t),{},Object($.a)({},e,Object(D.a)(Object(D.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:u,resetIfoData:j})},Wn=function(e){var t=e.ifo,n=Q(t),c=$n(t);return Object(g.jsx)(Zt,{ifo:t,publicIfoData:n,walletIfoData:c})},Yn=function(e){var t=e.ifo,n=Q(t),c=Z(t);return Object(g.jsx)(Zt,{ifo:t,publicIfoData:n,walletIfoData:c})},Vn=C.x.filter((function(e){return!e.isActive})),Kn=function(){return Object(g.jsx)(nn,{maxWidth:"736px",m:"auto",width:"100%",id:"past-ifos",py:["24px","24px","40px"],children:Vn.map((function(e){switch(e.version){case 1:return Object(g.jsx)(_n,{ifo:e},e.id);case 2:return Object(g.jsx)(Wn,{ifo:e},e.id);case 3:return Object(g.jsx)(Yn,{ifo:e},e.id);default:return null}}))})};t.default=function(){var e=Object(m.b)().t,t=Object(p.j)(),n=t.path,c=t.isExact;return Object(f.c)(),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.wc,{items:[{label:e("Latest"),href:"/ifo"},{label:e("Finished"),href:"/ifo/history"}],activeItem:c?"/ifo":"/ifo/history"}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P,{}),Object(g.jsx)(p.b,{exact:!0,path:"".concat(n),children:Object(g.jsx)(zn,{})}),Object(g.jsx)(p.b,{path:"".concat(n,"/history"),children:Object(g.jsx)(d.a,{children:Object(g.jsx)(Kn,{})})})]})]})}},831:function(e,t,n){"use strict";var c=n(3),i=n.n(c),r=n(10),o=n(8),a=n(5),s=n(1),l=n(83),b=n(44),u=n(112),j=n(13),d=n(114),m=n(61),x=n(0),p={approvalState:"idle",confirmState:"idle"},f=function(e,t){switch(t.type){case"requires_approval":return Object(a.a)(Object(a.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(a.a)(Object(a.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(a.a)(Object(a.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(a.a)(Object(a.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(a.a)(Object(a.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(a.a)(Object(a.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(a.a)(Object(a.a)({},e),{},{confirmState:"fail"});default:return e}};t.a=function(e){var t=e.onApprove,n=e.onConfirm,c=e.onRequiresApproval,a=e.onSuccess,O=void 0===a?l.noop:a,h=e.onApproveSuccess,g=void 0===h?l.noop:h,v=Object(j.b)().t,y=Object(b.c)().account,I=Object(s.useReducer)(f,p),k=Object(o.a)(I,2),w=k[0],P=k[1],C=Object(s.useRef)(c),S=Object(u.a)(),A=S.toastSuccess,D=S.toastError;return Object(s.useEffect)((function(){y&&C.current&&C.current().then((function(e){e&&P({type:"requires_approval"})}))}),[y,C,P]),{isApproving:"loading"===w.approvalState,isApproved:"success"===w.approvalState,isConfirming:"loading"===w.confirmState,isConfirmed:"success"===w.confirmState,hasApproveFailed:"fail"===w.approvalState,hasConfirmFailed:"fail"===w.confirmState,handleApprove:function(){var e=Object(r.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,A("".concat(v("Transaction Submitted"),"!"),Object(x.jsx)(m.b,{txHash:n.hash})),P({type:"approve_sending"}),e.next=8,n.wait();case 8:(c=e.sent).status&&(P({type:"approve_receipt"}),g({state:w,receipt:c})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),P({type:"approve_error"}),Object(d.b)(e.t0),D(v("Error"),v("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(r.a)(i.a.mark((function e(){var t,c,r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},P({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return c=e.sent,A("".concat(v("Transaction Submitted"),"!"),Object(x.jsx)(m.b,{txHash:c.hash})),e.next=9,c.wait();case 9:(r=e.sent).status&&(P({type:"confirm_receipt"}),O({state:w,receipt:r})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),P({type:"confirm_error"}),Object(d.b)(e.t0),D(v("Error"),v("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}()}}},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c,i,r,o,a,s=n(9),l=(n(1),n(6)),b=n(2),u=n(13),j=n(0);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(a||(a={}));var d=l.e.div(c||(c=Object(s.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),m=Object(l.e)(b.v)(i||(i=Object(s.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),x={width:"24px",color:"textDisabled"},p=Object(l.e)(b.P).attrs(x)(r||(r=Object(s.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),f=Object(l.e)(b.N).attrs(x)(o||(o=Object(s.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),O=Object(j.jsx)(b.j,{spin:!0,color:"currentColor"});t.b=function(e){var t=e.isApproveDisabled,n=e.isApproving,c=e.isConfirming,i=e.isConfirmDisabled,r=e.onApprove,o=e.onConfirm,s=e.buttonArrangement,l=void 0===s?a.ROW:s,x=e.confirmLabel,h=e.confirmId,g=Object(u.b)().t,v=null!==x&&void 0!==x?x:g("Confirm");return l===a.ROW?Object(j.jsxs)(d,{children:[Object(j.jsx)(b.q,{children:Object(j.jsx)(m,{disabled:t,onClick:r,endIcon:n?O:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})}),Object(j.jsxs)(b.eb,{justifyContent:"center",children:[Object(j.jsx)(p,{}),Object(j.jsx)(f,{})]}),Object(j.jsx)(b.q,{children:Object(j.jsx)(m,{id:h,onClick:o,disabled:i,isLoading:c,endIcon:c?O:void 0,children:c?g("Confirming"):v})})]}):Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(b.q,{children:Object(j.jsx)(m,{id:h,onClick:o,disabled:i,isLoading:c,endIcon:c?O:void 0,children:c?g("Confirming"):v})}):Object(j.jsx)(b.q,{children:Object(j.jsx)(m,{onClick:r,endIcon:n?O:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})})})}},847:function(e,t,n){"use strict";var c,i,r,o=n(5),a=n(8),s=n(49),l=n(9),b=n(1),u=n(6),j=n(2),d=n(13),m=n(0),x=["title","children"],p=Object(u.e)(j.eb)(c||(c=Object(l.a)(["\n  cursor: pointer;\n"]))),f=Object(u.e)(j.eb)(i||(i=Object(l.a)(["\n  button {\n    align-items: center;\n    justify-content: flex-start;\n  }\n"]))),O=Object(u.e)(j.eb)(r||(r=Object(l.a)(["\n  overflow: hidden;\n  height: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.isExpanded?"100%":"0px"}),(function(e){return e.isExpanded?"16px":"0px"}),(function(e){return e.theme.colors.inputSecondary}));t.a=function(e){var t=e.title,n=e.children,c=Object(s.a)(e,x),i=Object(d.b)().t,r=Object(b.useState)(!1),l=Object(a.a)(r,2),u=l[0],h=l[1];return Object(m.jsxs)(p,Object(o.a)(Object(o.a)({},c),{},{flexDirection:"column",onClick:function(){return h(!u)},children:[Object(m.jsxs)(j.eb,{justifyContent:"space-between",alignItems:"center",pb:"16px",children:[Object(m.jsx)(j.Gc,{fontWeight:"bold",children:t}),Object(m.jsx)(f,{children:Object(m.jsx)(j.cb,{expanded:u,onClick:function(){return h(!u)},children:i(u?"Hide":"Details")})})]}),Object(m.jsx)(O,{isExpanded:u,flexDirection:"column",children:n})]}))}},925:function(e,t,n){var c=n(964),i=n(965),r=n(309),o=n(113),a=n(440);e.exports=function(e,t,n){var s=o(e)?c:i;return n&&a(e,t,n)&&(t=void 0),s(e,r(t,3))}},964:function(e,t){e.exports=function(e,t){for(var n=-1,c=null==e?0:e.length;++n<c;)if(!t(e[n],n,e))return!1;return!0}},965:function(e,t,n){var c=n(441);e.exports=function(e,t){var n=!0;return c(e,(function(e,c,i){return n=!!t(e,c,i)})),n}}}]);
//# sourceMappingURL=24.ec8ff7ec.chunk.js.map